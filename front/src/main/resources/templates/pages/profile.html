<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<!-- Page Content -->
<th:block layout:fragment="content">
    <div class="card">
        <div class="card-content">
            <div class="media">
                <div class="media-left">
                    <figure class="image is-48x48">
                        <img id="icon-img" src="https://bulma.io/images/placeholders/96x96.png" alt="Placeholder image">
                    </figure>
                </div>
                <div class="media-content">
                    <p class="title is-4" id="nick-name">별명</p>
                    <p class="subtitle is-6" id="user-id">아이</p>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" th:src="@{/js/user-apis.js}"></script>
    <script type="text/javascript" th:inline="javascript">

        getProfile()
            .then(res => {
                console.log(res)
                return res.text();
            })
            .then(data => {
                console.log(data)
                if (data !== undefined) {
                    document.getElementById('icon-img').src = data['iconImageUrl'];
                    document.getElementById('user-id').innerText = data['userId'];
                    document.getElementById('nick-name').innerText = data['nickName'];
                }
            })
    </script>
</th:block>
</html>
